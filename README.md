# üéØ RVC Investment Analyzer

**Radar de Valoraci√≥n y Calidad** ‚Äî Sistema de an√°lisis fundamental para encontrar empresas de calidad a precio justo.

> üéì **Enfoque educativo**: Dise√±ado para inversores de largo plazo que buscan fundamentos s√≥lidos, no especulaci√≥n ni trading.

---

## üåü ¬øQu√© es RVC?

RVC es una aplicaci√≥n web completa que te ayuda a identificar las mejores oportunidades de inversi√≥n bas√°ndose en:

- ‚úÖ **Calidad del negocio** ‚Äî ROE, ROIC, m√°rgenes operativos
- üí∞ **Valoraci√≥n justa** ‚Äî P/E, PEG, P/B
- üè• **Salud financiera** ‚Äî Deuda, liquidez, solvencia
- üìà **Potencial de crecimiento** ‚Äî Ingresos, beneficios, expansi√≥n

**Para qui√©n**: Inversores de largo plazo (10+ a√±os), personas que invierten mes a mes (DCA), quienes buscan calidad sobre especulaci√≥n.

---

## üöÄ Caracter√≠sticas Principales

### 1Ô∏è‚É£ Analizador Individual
Eval√∫a cualquier acci√≥n con un sistema de **3 scores complementarios**:

- **Quality Score** (0-100): ¬øQu√© tan buena es la empresa?
- **Valuation Score** (0-100): ¬øQu√© tan caro est√° el precio?
- **Investment Score** (0-100): ¬øVale la pena comprar AHORA?

Clasificaci√≥n autom√°tica en 9 categor√≠as:
- üíé **Gemas Ocultas** ‚Äî Alta calidad, bajo precio
- üèÜ **Clase Mundial** ‚Äî Excelente calidad, precio razonable
- ‚ö†Ô∏è **Trampa de Valor** ‚Äî Baja calidad, precio bajo
- üö´ **Evitar** ‚Äî Baja calidad, sobrevalorada

### 2Ô∏è‚É£ Comparador de Acciones
Compara hasta **5 acciones simult√°neamente** lado a lado:
- Visualizaci√≥n en tabla comparativa
- Scores sincronizados con c√≥digo de colores
- Identificaci√≥n r√°pida de mejores oportunidades
- Exportaci√≥n de comparaciones

### 3Ô∏è‚É£ Calculadora de Inversiones
Simulador DCA (Dollar Cost Averaging) con **4 m√≥dulos interactivos**:

**M√≥dulo 1: Proyecci√≥n B√°sica**
- 3 escenarios (conservador 7%, moderado 10%, optimista 12%)
- Ajuste autom√°tico por inflaci√≥n
- L√≠mite de capital configurable
- C√°lculo del poder del inter√©s compuesto

**M√≥dulo 2: Timing del Mercado**
- Simulaci√≥n de inicio en **crisis** (-40% ca√≠da)
- Simulaci√≥n de inicio en **burbuja** (+40% sobrevaloraci√≥n)
- Mercado normal como baseline
- Comparaci√≥n de resultados a largo plazo

**M√≥dulo 3: Lump Sum vs DCA**
- Inversi√≥n √∫nica vs inversi√≥n mensual
- An√°lisis de ventajas/desventajas
- Impacto de la volatilidad
- Recomendaciones personalizadas

**M√≥dulo 4: Ajuste por Inflaci√≥n**
- Proyecciones en t√©rminos reales
- Poder adquisitivo futuro
- Incremento anual de aportes
- Visualizaci√≥n del impacto inflacionario

### 4Ô∏è‚É£ Sistema de Datos Inteligente
- **7 fuentes de datos** con fallbacks autom√°ticos:
  - Yahoo Finance, Finviz, MarketWatch
  - Alpha Vantage, Twelve Data, FMP
  - Datos de ejemplo como √∫ltimo recurso
- **Cach√© SQLite** (7 d√≠as TTL) para optimizaci√≥n
- **Clasificaci√≥n autom√°tica** de activos (EQUITY, ETF, REIT, CRYPTO)
- **Soporte multi-moneda** (USD, EUR, GBP, CAD, MXN, etc.)
- **An√°lisis especializado de ETFs**

### 5Ô∏è‚É£ UX Educativa
- **Glosario interactivo** con 60+ t√©rminos financieros
- **Tooltips inline** para conceptos t√©cnicos
- **Bot√≥n flotante de ayuda** contextual
- **Responsive design** m√≥vil/tablet/desktop
- **Variables CSS centralizadas** para temas consistentes

---

## üì¶ Instalaci√≥n

### Requisitos
- Python 3.11+
- pip (gestor de paquetes)

### Pasos

```bash
# 1. Clonar el repositorio
git clone https://github.com/williamppmm/rvc-investment-analyzer.git
cd rvc-investment-analyzer

# 2. Instalar dependencias
pip install -r requirements.txt

# 3. (Opcional) Configurar APIs premium
# Copiar .env.example a .env y agregar tus claves
cp .env.example .env

# 4. Ejecutar la aplicaci√≥n
python app.py

# 5. Abrir navegador en http://localhost:5000
```

---

## üèóÔ∏è Estructura del Proyecto

```
rcv_proyecto/
‚îú‚îÄ‚îÄ app.py                          # Aplicaci√≥n Flask principal
‚îú‚îÄ‚îÄ scoring_engine.py               # Motor de 3 scores (Investment)
‚îú‚îÄ‚îÄ rvc_calculator.py               # Calculadora RVC (Legacy)
‚îú‚îÄ‚îÄ data_agent.py                   # Agente de recolecci√≥n de datos
‚îú‚îÄ‚îÄ investment_calculator.py        # Simulador DCA
‚îú‚îÄ‚îÄ asset_classifier.py             # Clasificador de activos
‚îú‚îÄ‚îÄ etf_analyzer.py                 # An√°lisis especializado ETFs
‚îÇ
‚îú‚îÄ‚îÄ services/                       # Integraciones con APIs
‚îÇ   ‚îú‚îÄ‚îÄ alpha_vantage.py           # Alpha Vantage API
‚îÇ   ‚îú‚îÄ‚îÄ twelve_data.py             # Twelve Data API
‚îÇ   ‚îî‚îÄ‚îÄ fmp.py                     # Financial Modeling Prep
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ cache.db                   # Cach√© SQLite (autogenerado)
‚îÇ   ‚îî‚îÄ‚îÄ asset_classifications.json # Clasificaciones de activos
‚îÇ
‚îú‚îÄ‚îÄ templates/                      # Plantillas HTML
‚îÇ   ‚îú‚îÄ‚îÄ base.html                  # Layout base
‚îÇ   ‚îú‚îÄ‚îÄ index.html                 # Analizador individual
‚îÇ   ‚îú‚îÄ‚îÄ comparador.html            # Comparador de acciones
‚îÇ   ‚îî‚îÄ‚îÄ calculadora.html           # Calculadora DCA
‚îÇ
‚îú‚îÄ‚îÄ static/                         # Assets est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ style.css                  # CSS global unificado
‚îÇ   ‚îú‚îÄ‚îÄ app.js                     # JavaScript index
‚îÇ   ‚îú‚îÄ‚îÄ comparador.js              # JavaScript comparador
‚îÇ   ‚îú‚îÄ‚îÄ calculadora.js             # JavaScript calculadora
‚îÇ   ‚îú‚îÄ‚îÄ glossary.js                # Glosario interactivo
‚îÇ   ‚îî‚îÄ‚îÄ img/                       # Im√°genes y logos
‚îÇ
‚îú‚îÄ‚îÄ logs/                           # Logs de aplicaci√≥n
‚îú‚îÄ‚îÄ scripts/                        # Scripts de utilidad
‚îÇ   ‚îú‚îÄ‚îÄ backup.ps1                 # Backup Windows
‚îÇ   ‚îî‚îÄ‚îÄ backup.sh                  # Backup Unix/Mac
‚îÇ
‚îú‚îÄ‚îÄ README.md                       # Este archivo
‚îú‚îÄ‚îÄ DEVELOPMENT_ROADMAP.md         # Roadmap de desarrollo
‚îú‚îÄ‚îÄ API_ENDPOINTS_GUIDE.md         # Gu√≠a de endpoints de la API REST
‚îú‚îÄ‚îÄ TECHNICAL_DOCUMENTATION.md    # Documentaci√≥n t√©cnica interna
‚îú‚îÄ‚îÄ LOGGING.md                     # Sistema de logging
‚îî‚îÄ‚îÄ requirements.txt               # Dependencias Python
```

---

## üìä Metodolog√≠a de Scoring

### Investment Score (Principal)
Combina 4 dimensiones con pesos balanceados:

| Dimensi√≥n | Peso | M√©tricas Clave | Rango Objetivo |
|-----------|------|----------------|----------------|
| **Calidad** | 40% | ROE, ROIC, m√°rgenes | ROE > 20%, ROIC > 15% |
| **Valoraci√≥n** | 35% | P/E, PEG, P/B | P/E < 15, PEG ‚âà 1, P/B < 3 |
| **Salud** | 15% | D/E, Current Ratio | D/E < 0.5, Current > 2 |
| **Crecimiento** | 10% | Revenue/Earnings growth | > 15% anual |

### Clasificaci√≥n Final

#### Por Investment Score:
- üü¢ **85-100**: Compra Fuerte ‚Äî Excelente oportunidad
- üü¢ **70-84**: Compra ‚Äî Buena inversi√≥n
- üü° **55-69**: Mantener ‚Äî Vigilar de cerca
- üü† **40-54**: Precauci√≥n ‚Äî Revisar fundamentos
- üî¥ **0-39**: Evitar ‚Äî Alto riesgo

#### Por Categor√≠a (Quality + Valuation):
```
                   VALORACI√ìN
                Baja    Media    Alta
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     Alta   ‚îÇ  üíé    ‚îÇ  üèÜ    ‚îÇ  üìà   ‚îÇ
CALIDAD     ‚îÇ Gema   ‚îÇ Clase  ‚îÇ Creci-‚îÇ
            ‚îÇ Oculta ‚îÇ Mundial‚îÇ miento‚îÇ
            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    Media   ‚îÇ  üí∞    ‚îÇ  ‚öñÔ∏è    ‚îÇ  ‚ö†Ô∏è   ‚îÇ
            ‚îÇ Valor  ‚îÇ Equili-‚îÇ Sobre- ‚îÇ
            ‚îÇRazona- ‚îÇ  brado ‚îÇvaluada‚îÇ
            ‚îÇ  ble   ‚îÇ        ‚îÇ        ‚îÇ
            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    Baja    ‚îÇ  ‚ö†Ô∏è    ‚îÇ  ü§î    ‚îÇ  üö´   ‚îÇ
            ‚îÇTrampa  ‚îÇ Dudoso ‚îÇ Evitar‚îÇ
            ‚îÇ Valor  ‚îÇ        ‚îÇ        ‚îÇ
            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ Casos de Uso

### Para Principiantes
1. Analiza tu primera acci√≥n en el **Analizador Individual**
2. Lee los tooltips para entender cada m√©trica
3. Usa la **Calculadora DCA** para simular tu plan de ahorro
4. Compara 2-3 acciones populares (AAPL, MSFT, GOOGL)

### Para Inversores Intermedios
1. Compara sectores completos con el **Comparador**
2. Filtra por Quality Score > 75 y Valuation Score > 65
3. Simula el impacto de **timing del mercado** con la calculadora
4. Exporta comparaciones para an√°lisis offline

### Para Inversores Avanzados
1. Analiza empresas de peque√±a capitalizaci√≥n (small caps)
2. Identifica **gemas ocultas** con alta calidad y baja valoraci√≥n
3. Combina con an√°lisis t√©cnico externo
4. Usa la API REST para integraciones custom

---

## üîÆ Roadmap (Pr√≥ximas Funcionalidades)

### üéØ Fase 2: Buscador de Oportunidades
**Estado**: En planificaci√≥n
- Ranking de mejores acciones del cach√©
- Filtros por sector, market cap, scores
- Top 20 Investment Scores
- Alertas de nuevas oportunidades

### üåç Fase 3: Contexto de Mercado
**Estado**: En dise√±o
- Indicadores macro (Fear & Greed Index)
- Valuaci√≥n hist√≥rica (Shiller P/E)
- Ciclo de mercado (Bull/Bear)
- Se√±ales de timing general

### üîî Fase 5: Sistema de Alertas
**Estado**: Propuesto
- Alertas de precio objetivo
- Notificaciones de cambios en scores
- Watchlist personalizada
- Email/Telegram integrations

### üöÄ Fase 6-7: Deploy Cloud
**Estado**: An√°lisis t√©cnico completado
- Hosting gratuito (Render/Railway)
- Base de datos PostgreSQL
- CDN para assets est√°ticos
- SSL/HTTPS autom√°tico

Ver detalles completos en [DEVELOPMENT_ROADMAP.md](DEVELOPMENT_ROADMAP.md)

---

## üõ†Ô∏è Uso Avanzado

### API REST Endpoints

```bash
# Analizar una acci√≥n
POST /analyze
Body: {"ticker": "AAPL"}

# Comparar m√∫ltiples acciones
POST /api/comparar
Body: {"tickers": ["AAPL", "MSFT", "GOOGL"]}

# Calcular inversi√≥n DCA
POST /api/calcular-inversion
Body: {
  "monthly_amount": 500,
  "years": 20,
  "scenario": "moderado"
}

# Limpiar cach√©
POST /cache/clear
Body: {"ticker": "AAPL"}  # Opcional: espec√≠fico o total
```

Ver documentaci√≥n completa en [API_ENDPOINTS_GUIDE.md](API_ENDPOINTS_GUIDE.md)

### Variables de Entorno

Crea un archivo `.env` con:

```env
# APIs Premium (Opcional)
ALPHA_VANTAGE_API_KEY=tu_clave_aqui
TWELVE_DATA_API_KEY=tu_clave_aqui
FMP_API_KEY=tu_clave_aqui

# Configuraci√≥n
LOG_LEVEL=INFO
CACHE_TTL_DAYS=7
RVC_SECRET_KEY=change-me-in-production
```

### Personalizaci√≥n del Scoring

Edita `scoring_engine.py` para ajustar pesos:

```python
self.quality_weights = {
    "roe": 0.40,              # Aumenta si priorizas rentabilidad
    "roic": 0.35,
    "operating_margin": 0.15,
    "net_margin": 0.10,
}
```

---

## üìö Recursos Adicionales

- **[DEVELOPMENT_ROADMAP.md](DEVELOPMENT_ROADMAP.md)**: Plan de desarrollo detallado por fases
- **[API_ENDPOINTS_GUIDE.md](API_ENDPOINTS_GUIDE.md)**: Gu√≠a pr√°ctica de endpoints de la API REST
- **[TECHNICAL_DOCUMENTATION.md](TECHNICAL_DOCUMENTATION.md)**: Documentaci√≥n t√©cnica y arquitectura interna
- **[LOGGING.md](LOGGING.md)**: Sistema de logs y debugging
- **[Glosario Interactivo](static/glossary.js)**: 60+ t√©rminos financieros explicados

---

## ‚ö†Ô∏è Advertencias Importantes

1. **No es asesor√≠a financiera**: Este proyecto es educativo. Consulta con profesionales antes de invertir.
2. **Datos de fuentes p√∫blicas**: Pueden contener errores o estar desactualizados.
3. **Limitaciones de APIs gratuitas**: Rate limits pueden afectar la disponibilidad.
4. **Proyecciones != Garant√≠as**: Los retornos hist√≥ricos no garantizan resultados futuros.
5. **Riesgo de mercado**: Toda inversi√≥n conlleva riesgo de p√©rdida de capital.

**√ösalo como punto de partida para tu an√°lisis, no como √∫nica fuente de decisi√≥n.**

---

## ü§ù Contribuciones

¬øQuieres mejorar RVC? ¬°Genial!

1. Fork el proyecto
2. Crea una rama (`git checkout -b feature/nueva-funcionalidad`)
3. Commit tus cambios (`git commit -m 'Agrega nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/nueva-funcionalidad`)
5. Abre un Pull Request

Ver [CONTRIBUTING.md](CONTRIBUTING.md) para lineamientos detallados.

---

## üìÑ Licencia

Este proyecto es de c√≥digo abierto bajo licencia MIT. Ver [LICENSE](LICENSE) para m√°s detalles.

---

## üë§ Autor

**William P√©rez**
- GitHub: [@williamppmm](https://github.com/williamppmm)
- Proyecto: [rvc-investment-analyzer](https://github.com/williamppmm/rvc-investment-analyzer)

---

## üôè Agradecimientos

- Datos de Yahoo Finance, Finviz, MarketWatch
- Metodolog√≠a inspirada en inversores value como Warren Buffett, Peter Lynch
- Comunidad open source de Python y Flask

---

<div align="center">

**‚≠ê Si te resulta √∫til, considera darle una estrella al proyecto ‚≠ê**

Made with ‚ù§Ô∏è for long-term investors

</div>
